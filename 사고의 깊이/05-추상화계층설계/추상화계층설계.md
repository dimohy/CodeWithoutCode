# 5ì£¼ì°¨: ì¶”ìƒí™” ê³„ì¸µ ì„¤ê³„

## ê°œìš”

**ì¶”ìƒí™”(Abstraction)**ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ê³„ì˜ ê°€ì¥ ê°•ë ¥í•œ ë„êµ¬ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤. ë³µì¡í•œ ì„¸ë¶€ì‚¬í•­ì„ ìˆ¨ê¸°ê³ , í•µì‹¬ ê°œë…ë§Œ ë“œëŸ¬ë‚´ë©°, ì‹œìŠ¤í…œì„ ì´í•´í•˜ê³  ê´€ë¦¬í•˜ê¸° ì‰½ê²Œ ë§Œë“­ë‹ˆë‹¤. ì§€ë‚œ ì£¼ê¹Œì§€ ìš°ë¦¬ëŠ” ì‹œìŠ¤í…œì„ ë¶„í•´í•˜ê³  êµ¬ì¡°í™”í•˜ëŠ” ë°©ë²•ì„ ë°°ì› ìŠµë‹ˆë‹¤. ì´ë²ˆ ì£¼ì—ëŠ” ê·¸ êµ¬ì¡°ë¥¼ ë”ìš± ëª…í™•í•˜ê³  ìœ ì§€ë³´ìˆ˜ ê°€ëŠ¥í•˜ê²Œ ë§Œë“œëŠ” ì¶”ìƒí™” ê³„ì¸µ ì„¤ê³„ë¥¼ í•™ìŠµí•©ë‹ˆë‹¤.

ì¢‹ì€ ì¶”ìƒí™”ëŠ” "ë¬´ì—‡ì„ í•˜ëŠ”ê°€"ëŠ” ëª…í™•íˆ ë“œëŸ¬ë‚´ê³ , "ì–´ë–»ê²Œ í•˜ëŠ”ê°€"ëŠ” ìˆ¨ê¹ë‹ˆë‹¤. ì‚¬ìš©ìëŠ” ìë™ì°¨ë¥¼ ìš´ì „í•  ë•Œ ì—”ì§„ì˜ ë‚´ë¶€ ì—°ì†Œ ê³¼ì •ì„ ì•Œ í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤. í•¸ë“¤, ì•¡ì…€, ë¸Œë ˆì´í¬ë¼ëŠ” ê°„ë‹¨í•œ ì¸í„°í˜ì´ìŠ¤ë§Œ ì´í•´í•˜ë©´ ë©ë‹ˆë‹¤. ì†Œí”„íŠ¸ì›¨ì–´ë„ ë§ˆì°¬ê°€ì§€ì…ë‹ˆë‹¤. ì˜ ì„¤ê³„ëœ APIëŠ” ë³µì¡í•œ êµ¬í˜„ì„ ìˆ¨ê¸°ê³ , ì‚¬ìš©í•˜ê¸° ì‰¬ìš´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

**ì´ë²ˆ ì£¼ í•™ìŠµ ëª©í‘œ:**

1. **ì¶”ìƒí™”ì˜ ë³¸ì§ˆ ì´í•´**: ì™œ ì¶”ìƒí™”ê°€ í•„ìš”í•˜ê³ , ì–´ë–»ê²Œ ë³µì¡ì„±ì„ ê´€ë¦¬í•˜ëŠ”ì§€ ê¹Šì´ ì´í•´í•©ë‹ˆë‹¤.

2. **API ì„¤ê³„ ì›ì¹™ ìŠµë“**: ì‚¬ìš©í•˜ê¸° ì‰½ê³ , ì´í•´í•˜ê¸° ëª…í™•í•˜ë©°, ë³€ê²½ì— ê°•í•œ APIë¥¼ ì„¤ê³„í•˜ëŠ” ë°©ë²•ì„ ë°°ì›ë‹ˆë‹¤.

3. **ê³„ì¸µ ì•„í‚¤í…ì²˜ ì‹¤ì²œ**: ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜, ì˜ì¡´ì„± ì—­ì „ ì›ì¹™, ê¹¨ë—í•œ ì•„í‚¤í…ì²˜ ê°™ì€ ê²€ì¦ëœ íŒ¨í„´ì„ ì‹¤ì „ì— ì ìš©í•©ë‹ˆë‹¤.

4. **ì˜ë£Œ ì‹œìŠ¤í…œ ì„¤ê³„**: ì‹¤ì œ ë„ë©”ì¸ì˜ ë³µì¡ì„±ì„ ê°€ì§„ ì˜ë£Œ ë°ì´í„° ê´€ë¦¬ ì‹œìŠ¤í…œì„ GitHub Copilotê³¼ í˜‘ì—…í•˜ì—¬ ì„¤ê³„í•˜ê³ , ì¶”ìƒí™” ê³„ì¸µì´ ì–´ë–»ê²Œ ë³µì¡ë„ë¥¼ ë‚®ì¶”ëŠ”ì§€ ê²½í—˜í•©ë‹ˆë‹¤.

ì´ë²ˆ ì£¼ëŠ” ì´ë¡ ê³¼ ì‹¤ìŠµì˜ ê· í˜•ì„ ë§ì¶¥ë‹ˆë‹¤. ì¶”ìƒí™”ì˜ ì›ë¦¬ë¥¼ ì´í•´í•˜ê³ , êµ¬ì²´ì ì¸ ì„¤ê³„ íŒ¨í„´ì„ í•™ìŠµí•˜ë©°, ì‹¤ì œ ì‹œìŠ¤í…œì— ì ìš©í•˜ëŠ” ì „ ê³¼ì •ì„ ê±°ì¹©ë‹ˆë‹¤. ì „ë¬¸ ê°œë°œìë¡œì„œ ë³µì¡í•œ ì‹œìŠ¤í…œì„ ìš°ì•„í•˜ê²Œ ì„¤ê³„í•˜ëŠ” ëŠ¥ë ¥ì„ í‚¤ìš¸ ê²ƒì…ë‹ˆë‹¤.

## 1. API, ëª¨ë“ˆ, ë°ì´í„° êµ¬ì¡° ë‹¨ìˆœí™” ì „ëµ

### ë³µì¡ì„±ì„ ìˆ¨ê¸°ëŠ” ì¶”ìƒí™”ì˜ í˜

ë³µì¡ì„±ì€ ì†Œí”„íŠ¸ì›¨ì–´ì˜ ìˆ™ëª…ì…ë‹ˆë‹¤. ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ì‚¬í•­ì€ ë³µì¡í•˜ê³ , ê¸°ìˆ  ìŠ¤íƒì€ ë‹¤ì–‘í•˜ë©°, í†µí•©í•´ì•¼ í•  ì‹œìŠ¤í…œì€ ë§ìŠµë‹ˆë‹¤. ì´ ë³µì¡ì„±ì„ ê·¸ëŒ€ë¡œ ë…¸ì¶œí•˜ë©´ ì‹œìŠ¤í…œì€ ì´í•´í•˜ê¸° ì–´ë µê³ , ë³€ê²½í•˜ê¸° ìœ„í—˜í•˜ë©°, ìœ ì§€ë³´ìˆ˜ê°€ ë¶ˆê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤.

**ì¶”ìƒí™”ëŠ” ë³µì¡ì„±ì„ ê´€ë¦¬í•˜ëŠ” í•µì‹¬ ì „ëµì…ë‹ˆë‹¤.** ì„¸ë¶€ì‚¬í•­ì„ ìº¡ìŠí™”í•˜ê³ , ë‹¨ìˆœí•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•˜ë©°, ì‚¬ìš©ìê°€ ì•Œì•„ì•¼ í•  ê²ƒê³¼ ì•Œ í•„ìš” ì—†ëŠ” ê²ƒì„ ë¶„ë¦¬í•©ë‹ˆë‹¤.

**ì¶”ìƒí™”ì˜ ìˆ˜ì¤€**

ì¶”ìƒí™”ëŠ” ì—¬ëŸ¬ ìˆ˜ì¤€ì—ì„œ ì¼ì–´ë‚©ë‹ˆë‹¤:

**í•˜ë“œì›¨ì–´ ì¶”ìƒí™”**: í”„ë¡œê·¸ë˜ë¨¸ëŠ” CPU ë ˆì§€ìŠ¤í„°ë‚˜ ë©”ëª¨ë¦¬ ì£¼ì†Œë¥¼ ì§ì ‘ ë‹¤ë£¨ì§€ ì•ŠìŠµë‹ˆë‹¤. ìš´ì˜ì²´ì œê°€ ì´ë¥¼ ì¶”ìƒí™”í•˜ì—¬ íŒŒì¼ ì‹œìŠ¤í…œ, í”„ë¡œì„¸ìŠ¤, ë„¤íŠ¸ì›Œí¬ ì†Œì¼“ ê°™ì€ ê³ ìˆ˜ì¤€ ê°œë…ì„ ì œê³µí•©ë‹ˆë‹¤.

**ì–¸ì–´ ì¶”ìƒí™”**: TypeScriptë‚˜ C#ì€ ë©”ëª¨ë¦¬ ê´€ë¦¬, í¬ì¸í„° ì‚°ìˆ , ì‹œìŠ¤í…œ í˜¸ì¶œì„ ì¶”ìƒí™”í•©ë‹ˆë‹¤. ì—¬ëŸ¬ë¶„ì€ ê°ì²´, ë©”ì„œë“œ, ë¹„ë™ê¸° ì‘ì—…ì´ë¼ëŠ” ê³ ìˆ˜ì¤€ ê°œë…ìœ¼ë¡œ ìƒê°í•©ë‹ˆë‹¤.

**ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ìƒí™”**: HTTP í†µì‹ ì„ ìœ„í•´ TCP ì†Œì¼“ì„ ì§ì ‘ ë‹¤ë£¨ì§€ ì•ŠìŠµë‹ˆë‹¤. axiosë‚˜ HttpClient ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ë³µì¡í•œ í”„ë¡œí† ì½œì„ ì¶”ìƒí™”í•˜ì—¬ ê°„ë‹¨í•œ APIë¥¼ ì œê³µí•©ë‹ˆë‹¤.

**ë„ë©”ì¸ ì¶”ìƒí™”**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ê¸°ìˆ  ì„¸ë¶€ì‚¬í•­ê³¼ ë¶„ë¦¬í•©ë‹ˆë‹¤. "ì£¼ë¬¸ ìƒì„±"ì€ ë°ì´í„°ë² ì´ìŠ¤ íŠ¸ëœì­ì…˜, HTTP ìš”ì²­, ë©”ì‹œì§€ í ë°œí–‰ ê°™ì€ ê¸°ìˆ ì  ì„¸ë¶€ì‚¬í•­ê³¼ ë…ë¦½ì ìœ¼ë¡œ í‘œí˜„ë©ë‹ˆë‹¤.

**ì¢‹ì€ ì¶”ìƒí™”ì˜ íŠ¹ì§•**

1. **ë‹¨ìˆœì„±**: ì‚¬ìš©ìê°€ ê¸°ì–µí•˜ê³  ì´í•´í•´ì•¼ í•  ê°œë…ì´ ì ìŠµë‹ˆë‹¤.
2. **ì¼ê´€ì„±**: ë¹„ìŠ·í•œ ì‘ì—…ì€ ë¹„ìŠ·í•œ ë°©ì‹ìœ¼ë¡œ ìˆ˜í–‰ë©ë‹ˆë‹¤.
3. **ì™„ì „ì„±**: í•„ìš”í•œ ê¸°ëŠ¥ì„ ëª¨ë‘ ì œê³µí•˜ì§€ë§Œ, ë¶ˆí•„ìš”í•œ ê²ƒì€ í¬í•¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
4. **ì•ˆì •ì„±**: êµ¬í˜„ì´ ë°”ë€Œì–´ë„ ì¸í„°í˜ì´ìŠ¤ëŠ” ë³€í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

**ë‚˜ìœ ì¶”ìƒí™”ì˜ ì§•í›„**

- **ëˆ„ìˆ˜ëœ ì¶”ìƒí™”(Leaky Abstraction)**: êµ¬í˜„ ì„¸ë¶€ì‚¬í•­ì´ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ ë“œëŸ¬ë‚©ë‹ˆë‹¤. ì˜ˆ: "ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ì´ ëŠì–´ì¡Œìœ¼ë¯€ë¡œ ì¬ì‹œë„í•˜ì„¸ìš”"ë¼ëŠ” ì—ëŸ¬ ë©”ì‹œì§€ëŠ” ë‚´ë¶€ êµ¬í˜„(ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©)ì„ ë…¸ì¶œí•©ë‹ˆë‹¤.

- **ê³¼ë„í•œ ì¶”ìƒí™”(Over-Abstraction)**: ë„ˆë¬´ ì¼ë°˜í™”ë˜ì–´ ì‚¬ìš©í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤. ì˜ˆ: `processData(data: any): any` ê°™ì€ ì§€ë‚˜ì¹˜ê²Œ ì¼ë°˜ì ì¸ í•¨ìˆ˜ëŠ” ì˜ë¯¸ê°€ ë¶ˆëª…í™•í•©ë‹ˆë‹¤.

- **ë¯¸í¡í•œ ì¶”ìƒí™”(Under-Abstraction)**: ì‚¬ìš©ìê°€ ë„ˆë¬´ ë§ì€ ì„¸ë¶€ì‚¬í•­ì„ ì•Œì•„ì•¼ í•©ë‹ˆë‹¤. ì˜ˆ: íŒŒì¼ì„ ì½ê¸° ìœ„í•´ ë²„í¼ í¬ê¸°, ì¸ì½”ë”©, ì—ëŸ¬ í•¸ë“¤ë§ì„ ëª¨ë‘ ì§ì ‘ ê´€ë¦¬í•´ì•¼ í•œë‹¤ë©´ ì¶”ìƒí™”ê°€ ë¶€ì¡±í•œ ê²ƒì…ë‹ˆë‹¤.

### API ì„¤ê³„ ì›ì¹™

API(Application Programming Interface)ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì»´í¬ë„ŒíŠ¸ ê°„ ê³„ì•½ì…ë‹ˆë‹¤. ì¢‹ì€ APIëŠ” ì‚¬ìš©í•˜ê¸° ì‰½ê³ , ì˜¤ìš©í•˜ê¸° ì–´ìš°ë©°, ë³€ê²½ì— ê°•í•©ë‹ˆë‹¤.

**ì›ì¹™ 1: ìµœì†Œ ë†€ë¼ì›€ì˜ ë²•ì¹™ (Principle of Least Astonishment)**

ì‚¬ìš©ìê°€ ì§ê´€ì ìœ¼ë¡œ ì˜ˆìƒí•˜ëŠ” ëŒ€ë¡œ ë™ì‘í•´ì•¼ í•©ë‹ˆë‹¤. ì´ë¦„, ë§¤ê°œë³€ìˆ˜, ë°˜í™˜ê°’ì´ ëª…í™•í•˜ê³  ì¼ê´€ì ì´ì–´ì•¼ í•©ë‹ˆë‹¤.

```typescript
// âœ… ì¢‹ì€ ì˜ˆ: ì¼ê´€ëœ ëª…ëª…
interface UserRepository {
  findById(id: string): Promise<User | null>;
  findAll(): Promise<User[]>;
  save(user: User): Promise<void>;
}

// âŒ ë‚˜ìœ ì˜ˆ: ì¼ê´€ì„± ì—†ìŒ
interface UserRepository {
  get(id: string): Promise<User | undefined>;  // find vs get í˜¼ìš©
  list(): Promise<User[]>;  // findAll vs list í˜¼ìš©
  persist(user: User): Promise<User>;  // ë¶ˆí•„ìš”í•œ ë°˜í™˜ê°’
}
```

ğŸ“ **ì „ì²´ API ì„¤ê³„ ì˜ˆì‹œ**: [code/api-design-principles.ts](code/api-design-principles.ts)

**ì›ì¹™ 2: í‘œí˜„ë ¥ ìˆëŠ” ì´ë¦„ ì‚¬ìš©**

ì´ë¦„ë§Œ ë´ë„ ë¬´ì—‡ì„ í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ì•½ì–´ë‚˜ ëª¨í˜¸í•œ ì´ë¦„ì„ í”¼í•˜ì„¸ìš”.

```typescript
// âœ… ì¢‹ì€ ì˜ˆ: ëª…í™•í•œ ì´ë¦„
class OrderService {
  createOrder(customerId: string, items: OrderItem[]): Promise<Order>
  cancelOrder(orderId: string, reason: string): Promise<void>
}

// âŒ ë‚˜ìœ ì˜ˆ: ì•½ì–´ì™€ ëª¨í˜¸í•œ ì´ë¦„
class OrderService {
  create(cid: string, itm: any[]): Promise<any>  // ì•½ì–´, any
  cancel(id: string): Promise<void>  // ì´ìœ  ëˆ„ë½
}
```

**ì›ì¹™ 3: ê°•íƒ€ì… í™œìš©**

TypeScriptì˜ íƒ€ì… ì‹œìŠ¤í…œì„ ìµœëŒ€í•œ í™œìš©í•˜ì—¬ ì»´íŒŒì¼ ì‹œê°„ì— ì˜¤ë¥˜ë¥¼ ì¡ìœ¼ì„¸ìš”.

```typescript
// Brand Typesë¡œ íƒ€ì… ì•ˆì „ì„± í™•ë³´
type UserId = string & { __brand: 'UserId' };
type OrderId = string & { __brand: 'OrderId' };

function sendOrderConfirmation(orderId: OrderId, email: Email): void { /* */ }

// âœ… íƒ€ì… ë¶ˆì¼ì¹˜ë¥¼ ì»´íŒŒì¼ ì‹œê°„ì— ê²€ì¶œ
// sendOrderConfirmation(userId, email);  // ì»´íŒŒì¼ ì—ëŸ¬!
```

ğŸ“ **ì „ì²´ ì˜ˆì‹œ**: [code/api-design-principles.ts](code/api-design-principles.ts)

**ì›ì¹™ 4: ë¶ˆë³€ì„± ìš°ì„ **

ê°€ëŠ¥í•œ í•œ ë¶ˆë³€ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”. ë¶ˆë³€ ê°ì²´ëŠ” ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê³ , ìŠ¤ë ˆë“œ ì•ˆì „í•˜ë©°, ë””ë²„ê¹…ì´ ì‰½ìŠµë‹ˆë‹¤.

```typescript
// í•µì‹¬: ë¶ˆë³€ ê°ì²´, ìƒˆ ì¸ìŠ¤í„´ìŠ¤ ë°˜í™˜
class Money {
  constructor(
    public readonly amount: number,
    public readonly currency: string
  ) {}

  add(other: Money): Money {
    if (this.currency !== other.currency) throw new Error('Currency mismatch');
    return new Money(this.amount + other.amount, this.currency);  // ìƒˆ ê°ì²´ ë°˜í™˜
  }
}
```

**ì›ì¹™ 5: ì—ëŸ¬ ì²˜ë¦¬ ëª…ì‹œ**

ì–´ë–¤ ì—ëŸ¬ê°€ ë°œìƒí•  ìˆ˜ ìˆëŠ”ì§€ ëª…í™•íˆ í•˜ì„¸ìš”. TypeScriptì—ì„œëŠ” Result íƒ€ì…ì´ë‚˜ ëª…í™•í•œ throw ë¬¸ì„œí™”ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

```typescript
// Result íƒ€ì…ìœ¼ë¡œ íƒ€ì… ì•ˆì „í•œ ì—ëŸ¬ ì²˜ë¦¬
type Result<T, E> = { ok: true; value: T } | { ok: false; error: E };

async function processPayment(
  amount: Money, 
  method: PaymentMethod
): Promise<Result<PaymentConfirmation, PaymentError>> {
  try {
    return { ok: true, value: confirmation };
  } catch (error) {
    return { ok: false, error: new PaymentError(error.message) };
  }
}

// ì‚¬ìš©
const result = await processPayment(amount, method);
if (result.ok) {
  console.log(result.value);  // PaymentConfirmation
} else {
  console.error(result.error);  // PaymentError
}
```

**ì›ì¹™ 6: ë²„ì „ ê´€ë¦¬ ê³ ë ¤**

APIëŠ” ì‹œê°„ì´ ì§€ë‚˜ë©´ì„œ ì§„í™”í•©ë‹ˆë‹¤. í•˜ìœ„ í˜¸í™˜ì„±ì„ ìœ ì§€í•˜ë©´ì„œ ë³€ê²½í•˜ëŠ” ì „ëµì´ í•„ìš”í•©ë‹ˆë‹¤.

```typescript
// âŒ ë‚˜ìœ ì˜ˆ: ë§¤ê°œë³€ìˆ˜ ì¶”ê°€ë¡œ í•˜ìœ„ í˜¸í™˜ì„± ê¹¨ì§
// createUser(name: string) â†’ createUser(name: string, email: string)

// âœ… ì¢‹ì€ ì˜ˆ: í™•ì¥ ê°€ëŠ¥í•œ ì˜µì…˜ ê°ì²´
interface CreateUserOptions {
  name: string;
  email?: string;  // ì„ íƒì  í•„ë“œë¡œ ë‚˜ì¤‘ì— ì¶”ê°€ ê°€ëŠ¥
  phone?: string;
}

function createUser(options: CreateUserOptions): Promise<User> { /* */ }

// ìƒˆ í•„ë“œ ì¶”ê°€ ì‹œ ê¸°ì¡´ ì½”ë“œëŠ” ì˜í–¥ ì—†ìŒ
createUser({ name: 'John' });  // ì—¬ì „íˆ ë™ì‘
createUser({ name: 'John', email: 'john@example.com' });  // ìƒˆ ê¸°ëŠ¥
```

### ëª¨ë“ˆ ì¸í„°í˜ì´ìŠ¤ ì„¤ê³„

ëª¨ë“ˆì€ ê´€ë ¨ëœ ê¸°ëŠ¥ì˜ ë¬¶ìŒì…ë‹ˆë‹¤. ëª¨ë“ˆì˜ ì¸í„°í˜ì´ìŠ¤ëŠ” ì™¸ë¶€ì— ë¬´ì—‡ì„ ë…¸ì¶œí•˜ê³ , ë¬´ì—‡ì„ ìˆ¨ê¸¸ì§€ ê²°ì •í•©ë‹ˆë‹¤.

**ê³µê°œ ì¸í„°í˜ì´ìŠ¤ì™€ ë‚´ë¶€ êµ¬í˜„ ë¶„ë¦¬**

TypeScriptì—ì„œëŠ” `export`ë¡œ ê³µê°œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ëª…ì‹œí•©ë‹ˆë‹¤.

```typescript
// payment-processor.ts
// ê³µê°œ ì¸í„°í˜ì´ìŠ¤
export interface PaymentProcessor {
  process(payment: Payment): Promise<PaymentResult>;
}

export interface Payment {
  amount: Money;
  method: PaymentMethod;
  customerId: string;
}

export interface PaymentResult {
  success: boolean;
  transactionId?: string;
  error?: string;
}

// ë‚´ë¶€ êµ¬í˜„ (exportí•˜ì§€ ì•ŠìŒ)
class StripePaymentProcessor implements PaymentProcessor {
  private apiKey: string;
  private httpClient: HttpClient;
  
  async process(payment: Payment): Promise<PaymentResult> {
    // Stripe íŠ¹í™” ë¡œì§
  }
}

// íŒ©í† ë¦¬ í•¨ìˆ˜ë¡œ êµ¬í˜„ ìˆ¨ê¹€
export function createPaymentProcessor(config: PaymentConfig): PaymentProcessor {
  if (config.provider === 'stripe') {
    return new StripePaymentProcessor(config.apiKey);
  } else if (config.provider === 'paypal') {
    return new PayPalPaymentProcessor(config.credentials);
  }
  throw new Error(`Unknown provider: ${config.provider}`);
}
```

ì‚¬ìš©ìëŠ” `PaymentProcessor` ì¸í„°í˜ì´ìŠ¤ë§Œ ì•Œë©´ ë˜ê³ , êµ¬ì²´ì ì¸ êµ¬í˜„(`StripePaymentProcessor`)ì€ ì•Œ í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.

**facade íŒ¨í„´ìœ¼ë¡œ ë³µì¡í•œ í•˜ìœ„ ì‹œìŠ¤í…œ ë‹¨ìˆœí™”**

ì—¬ëŸ¬ ë³µì¡í•œ í´ë˜ìŠ¤ë¥¼ í•˜ë‚˜ì˜ ë‹¨ìˆœí•œ ì¸í„°í˜ì´ìŠ¤ë¡œ ê°ìŒ‰ë‹ˆë‹¤.

```typescript
// ë³µì¡í•œ í•˜ìœ„ ì‹œìŠ¤í…œ
class EmailValidator { /* ... */ }
class PhoneValidator { /* ... */ }
class AddressValidator { /* ... */ }
class DatabaseChecker { /* ... */ }

// Facade: ë‹¨ìˆœí•œ ì¸í„°í˜ì´ìŠ¤ ì œê³µ
export class UserRegistrationFacade {
  private emailValidator = new EmailValidator();
  private phoneValidator = new PhoneValidator();
  private addressValidator = new AddressValidator();
  private databaseChecker = new DatabaseChecker();

  async registerUser(userData: UserData): Promise<RegistrationResult> {
    // ëª¨ë“  ë³µì¡í•œ ê²€ì¦ì„ ë‚´ë¶€ì—ì„œ ì²˜ë¦¬
    if (!this.emailValidator.isValid(userData.email)) {
      return { success: false, error: 'Invalid email' };
    }
    
    if (!this.phoneValidator.isValid(userData.phone)) {
      return { success: false, error: 'Invalid phone' };
    }
    
    if (await this.databaseChecker.emailExists(userData.email)) {
      return { success: false, error: 'Email already registered' };
    }
    
    // ì‚¬ìš©ì ìƒì„±
    return { success: true, userId: newUserId };
  }
}
```

ì‚¬ìš©ìëŠ” í•˜ë‚˜ì˜ `registerUser` ë©”ì„œë“œë§Œ í˜¸ì¶œí•˜ë©´ ë˜ê³ , ë‚´ë¶€ì˜ ë³µì¡í•œ ê²€ì¦ ê³¼ì •ì€ ì•Œ í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.

### ë°ì´í„° êµ¬ì¡° ì¶”ìƒí™”

ë°ì´í„° êµ¬ì¡°ë„ ì¶”ìƒí™”ì˜ ëŒ€ìƒì…ë‹ˆë‹¤. ë‚´ë¶€ í‘œí˜„ê³¼ ì™¸ë¶€ í‘œí˜„ì„ ë¶„ë¦¬í•˜ë©´, êµ¬í˜„ì„ ììœ ë¡­ê²Œ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**DTO (Data Transfer Object) íŒ¨í„´**

API ê²½ê³„ì—ì„œ ë‚´ë¶€ ë„ë©”ì¸ ê°ì²´ë¥¼ ì§ì ‘ ë…¸ì¶œí•˜ì§€ ë§ê³ , DTOë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.

```typescript
// ë‚´ë¶€ ë„ë©”ì¸ ëª¨ë¸ (ë³µì¡í•¨, ë¯¼ê° ì •ë³´ í¬í•¨)
class User {
  private passwordHash: string;  // ë¯¼ê° ì •ë³´
  private roles: Role[];
  hasPermission(permission: Permission): boolean { /* */ }
}

// ì™¸ë¶€ APIìš© DTO (ë‹¨ìˆœí•¨, í•„ìš”í•œ ì •ë³´ë§Œ)
interface UserDTO {
  id: string;
  email: string;
  displayName: string;
  createdAt: string;
}

// ë³€í™˜: ë¯¼ê° ì •ë³´ ì œì™¸
function toUserDTO(user: User): UserDTO {
  return {
    id: user.getId(),
    email: user.getEmail(),
    displayName: user.getDisplayName(),
    createdAt: user.getCreatedAt().toISOString()
    // passwordHash ë“±ì€ ë…¸ì¶œí•˜ì§€ ì•ŠìŒ
  };
}
```

**Repository íŒ¨í„´ìœ¼ë¡œ ë°ì´í„° ì ‘ê·¼ ì¶”ìƒí™”**

ë°ì´í„° ì €ì¥ ë°©ì‹(SQL, NoSQL, ë©”ëª¨ë¦¬, íŒŒì¼)ì„ ì¶”ìƒí™”í•©ë‹ˆë‹¤.

```typescript
// ì¶”ìƒ ì¸í„°í˜ì´ìŠ¤
export interface UserRepository {
  findById(id: UserId): Promise<User | null>;
  findByEmail(email: Email): Promise<User | null>;
  save(user: User): Promise<void>;
  delete(id: UserId): Promise<void>;
}

// PostgreSQL êµ¬í˜„
class PostgreSQLUserRepository implements UserRepository {
  async findById(id: UserId): Promise<User | null> {
    const row = await this.db.query('SELECT * FROM users WHERE id = $1', [id]);
    return row ? this.mapRowToUser(row) : null;
  }
  // ...
}

// MongoDB êµ¬í˜„
class MongoDBUserRepository implements UserRepository {
  async findById(id: UserId): Promise<User | null> {
    const doc = await this.collection.findOne({ _id: id });
    return doc ? this.mapDocToUser(doc) : null;
  }
  // ...
}
```

ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì€ `UserRepository` ì¸í„°í˜ì´ìŠ¤ì—ë§Œ ì˜ì¡´í•˜ë¯€ë¡œ, ë°ì´í„°ë² ì´ìŠ¤ë¥¼ PostgreSQLì—ì„œ MongoDBë¡œ ë°”ê¿”ë„ ì˜í–¥ì„ ë°›ì§€ ì•ŠìŠµë‹ˆë‹¤.

// ì´ë¯¸ì§€ë¡œ êµì²´ë˜ì–´ì•¼ í•¨ : ì¶”ìƒí™” ê³„ì¸µì„ ë³´ì—¬ì£¼ëŠ” ë‹¤ì´ì–´ê·¸ë¨ (ì‚¬ìš©ì â†’ ì¸í„°í˜ì´ìŠ¤ â†’ êµ¬í˜„ ì„¸ë¶€ì‚¬í•­)
í”„ë¡¬í”„íŠ¸: A layered abstraction diagram showing user/client at top interacting only with simple interface layer, which hides complex implementation details below, arrows showing information flow, clear separation between public API and internal implementation, clean technical illustration style

## 2. ê³„ì¸µ ê°„ ì±…ì„ ë¶„ë¦¬ì™€ ì¸í„°í˜ì´ìŠ¤ ì •ì˜

ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ê³„ì¸µìœ¼ë¡œ ë‚˜ëˆ„ë©´ ê° ê³„ì¸µì´ ëª…í™•í•œ ì±…ì„ì„ ê°€ì§€ê³ , ê³„ì¸µ ê°„ ì˜ì¡´ì„±ì„ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ì‹œìŠ¤í…œì„ ì´í•´í•˜ê¸° ì‰½ê³ , í…ŒìŠ¤íŠ¸í•˜ê¸° ì‰¬ìš°ë©°, ë³€ê²½í•˜ê¸° ì•ˆì „í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤.

### ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜

**ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜(Layered Architecture)**ëŠ” ê°€ì¥ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ì•„í‚¤í…ì²˜ íŒ¨í„´ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤. ì‹œìŠ¤í…œì„ ìˆ˜í‰ ê³„ì¸µìœ¼ë¡œ ë‚˜ëˆ„ê³ , ê° ê³„ì¸µì€ ìì‹ ì˜ ë°”ë¡œ ì•„ë˜ ê³„ì¸µì—ë§Œ ì˜ì¡´í•©ë‹ˆë‹¤.

**ì „í˜•ì ì¸ 4ê³„ì¸µ êµ¬ì¡°**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Presentation Layer (API)      â”‚  â† HTTP ìš”ì²­/ì‘ë‹µ, ì»¨íŠ¸ë¡¤ëŸ¬
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Application Layer (Use Cases) â”‚  â† ë¹„ì¦ˆë‹ˆìŠ¤ í”Œë¡œìš°, ì¡°ì •
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Domain Layer (Business Logic) â”‚  â† ë„ë©”ì¸ ëª¨ë¸, ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Infrastructure Layer (Data)   â”‚  â† ë°ì´í„°ë² ì´ìŠ¤, ì™¸ë¶€ API
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ê° ê³„ì¸µì˜ ì±…ì„**

**Presentation Layer (í‘œí˜„ ê³„ì¸µ)**
- ì‚¬ìš©ì ë˜ëŠ” ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ì˜ ì¸í„°í˜ì´ìŠ¤
- HTTP ìš”ì²­ì„ ë°›ì•„ Application Layerë¡œ ìœ„ì„
- ì‘ë‹µì„ ì ì ˆí•œ í˜•ì‹(JSON, HTML)ìœ¼ë¡œ ë³€í™˜
- ì¸ì¦, ì…ë ¥ ê²€ì¦ (ê¸°ë³¸ì ì¸ ê²ƒë§Œ)

TypeScript ì˜ˆì œ:
```typescript
// í•µì‹¬: HTTP ìš”ì²­ â†’ DTO ë³€í™˜ â†’ Use Case ì‹¤í–‰
export class UserController {
  constructor(private createUserUseCase: CreateUserUseCase) {}

  async createUser(req: Request, res: Response): Promise<void> {
    const command: CreateUserCommand = {
      name: req.body.name,
      email: req.body.email,
      password: req.body.password
    };

    const result = await this.createUserUseCase.execute(command);
    res.status(201).json({ id: result.userId });
  }
}
```

ğŸ“ **4ê³„ì¸µ ì „ì²´ ì˜ˆì‹œ**: [code/layered-architecture-full-example.ts](code/layered-architecture-full-example.ts)

**Application Layer (ì• í”Œë¦¬ì¼€ì´ì…˜ ê³„ì¸µ)**
- ë¹„ì¦ˆë‹ˆìŠ¤ í”Œë¡œìš° ì¡°ì •
- ì—¬ëŸ¬ ë„ë©”ì¸ ê°ì²´ë¥¼ ì¡°ìœ¨í•˜ì—¬ ìœ ìŠ¤ì¼€ì´ìŠ¤ êµ¬í˜„
- íŠ¸ëœì­ì…˜ ê²½ê³„ ê´€ë¦¬
- ë„ë©”ì¸ ì´ë²¤íŠ¸ ë°œí–‰

TypeScript ì˜ˆì œ:
```typescript
// í•µì‹¬: ë¹„ì¦ˆë‹ˆìŠ¤ í”Œë¡œìš° ì¡°ì • (ìœ ìŠ¤ì¼€ì´ìŠ¤ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜)
export class CreateUserUseCase {
  constructor(
    private userRepository: UserRepository,
    private emailService: EmailService,
    private eventPublisher: EventPublisher
  ) {}

  async execute(command: CreateUserCommand): Promise<CreateUserResult> {
    // 1. ì¤‘ë³µ í™•ì¸ â†’ 2. ë„ë©”ì¸ ìƒì„± â†’ 3. ì €ì¥ â†’ 4. ì•Œë¦¼ â†’ 5. ì´ë²¤íŠ¸
    const existingUser = await this.userRepository.findByEmail(command.email);
    if (existingUser) throw new EmailAlreadyExistsError(command.email);

    const user = User.create(command);
    await this.userRepository.save(user);
    await this.emailService.sendWelcomeEmail(user.email);
    await this.eventPublisher.publish(new UserCreatedEvent(user.id));

    return { userId: user.id };
  }
}
```

**Domain Layer (ë„ë©”ì¸ ê³„ì¸µ)**
- í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ ê·œì¹™
- ë„ë©”ì¸ ëª¨ë¸ (ì—”í‹°í‹°, ê°’ ê°ì²´, Aggregate)
- ê¸°ìˆ ì  ì„¸ë¶€ì‚¬í•­ì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ
- ìˆœìˆ˜í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ê°œë…ë§Œ í¬í•¨

TypeScript ì˜ˆì œ:
```typescript
// í•µì‹¬: ìˆœìˆ˜í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§, ê¸°ìˆ  ì„¸ë¶€ì‚¬í•­ ë…ë¦½ì 
export class User {
  private constructor(
    public readonly id: UserId,
    private name: string,
    private email: Email,
    private passwordHash: string,
    private status: UserStatus
  ) {}

  static create(props: CreateUserProps): User {
    // ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ê²€ì¦
    if (props.name.length < 2) throw new InvalidNameError('...');
    if (!this.isValidEmail(props.email)) throw new InvalidEmailError('...');

    const passwordHash = this.hashPassword(props.password);
    return new User(UserId.generate(), props.name, props.email, passwordHash, UserStatus.ACTIVE);
  }

  changeEmail(newEmail: Email): void {
    // ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™: í™œì„± ì‚¬ìš©ìë§Œ ë³€ê²½ ê°€ëŠ¥
    if (this.status !== UserStatus.ACTIVE) throw new InactiveUserError('...');
    this.email = newEmail;
  }
}
```

**Infrastructure Layer (ì¸í”„ë¼ ê³„ì¸µ)**
- ê¸°ìˆ ì  ì„¸ë¶€ì‚¬í•­ êµ¬í˜„
- ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼, íŒŒì¼ ì‹œìŠ¤í…œ, ì™¸ë¶€ API í˜¸ì¶œ
- í”„ë ˆì„ì›Œí¬ íŠ¹í™” ì½”ë“œ
- ë„ë©”ì¸ ê³„ì¸µì—ì„œ ì •ì˜í•œ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„

TypeScript ì˜ˆì œ:
```typescript
// í•µì‹¬: ë„ë©”ì¸ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„, ORM/í”„ë ˆì„ì›Œí¬ íŠ¹í™” ì½”ë“œ
export class TypeORMUserRepository implements UserRepository {
  constructor(@InjectRepository(UserEntity) private repository: Repository<UserEntity>) {}

  async findById(id: UserId): Promise<User | null> {
    const entity = await this.repository.findOne({ where: { id: id.value } });
    return entity ? this.toDomain(entity) : null;
  }

  async save(user: User): Promise<void> {
    const entity = this.toEntity(user);
    await this.repository.save(entity);
  }

  private toDomain(entity: UserEntity): User {
    // ORM ì—”í‹°í‹° â†’ ë„ë©”ì¸ ëª¨ë¸ ë³€í™˜
    return User.reconstitute({ ...entity });
  }

  private toEntity(user: User): UserEntity {
    // ë„ë©”ì¸ ëª¨ë¸ â†’ ORM ì—”í‹°í‹° ë³€í™˜
    return { ...user };
  }

  private toEntity(user: User): UserEntity {
    // ë„ë©”ì¸ ëª¨ë¸ì„ ORM ì—”í‹°í‹°ë¡œ ë³€í™˜
    const entity = new UserEntity();
    entity.id = user.id.value;
    entity.name = user.getName();
    entity.email = user.getEmail();
    // ...
    return entity;
  }
}
```

**ê³„ì¸µ ê°„ ì˜ì¡´ì„± ê·œì¹™**

1. **ì˜ì¡´ì„±ì€ ì•„ë˜ë¡œë§Œ íë¦„**: ìƒìœ„ ê³„ì¸µì€ í•˜ìœ„ ê³„ì¸µì— ì˜ì¡´í•  ìˆ˜ ìˆì§€ë§Œ, ê·¸ ë°˜ëŒ€ëŠ” ë¶ˆê°€
2. **ë„ë©”ì¸ ê³„ì¸µì€ ë…ë¦½ì **: ì–´ë–¤ ê³„ì¸µì—ë„ ì˜ì¡´í•˜ì§€ ì•ŠìŒ
3. **InfrastructureëŠ” Domain ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„**: ì˜ì¡´ì„± ì—­ì „ ì›ì¹™ ì ìš©

### ì˜ì¡´ì„± ì—­ì „ ì›ì¹™ (DIP)

**ì˜ì¡´ì„± ì—­ì „ ì›ì¹™(Dependency Inversion Principle)**ì€ SOLID ì›ì¹™ ì¤‘ í•˜ë‚˜ë¡œ, ê³ ìˆ˜ì¤€ ëª¨ë“ˆì´ ì €ìˆ˜ì¤€ ëª¨ë“ˆì— ì˜ì¡´í•˜ì§€ ì•Šê³ , ë‘˜ ë‹¤ ì¶”ìƒí™”ì— ì˜ì¡´í•´ì•¼ í•œë‹¤ëŠ” ì›ì¹™ì…ë‹ˆë‹¤.

**ì „í†µì  ì˜ì¡´ì„± (ë‚˜ìœ ì˜ˆ)**

```typescript
// ê³ ìˆ˜ì¤€ ëª¨ë“ˆ
class OrderService {
  private mysqlRepository: MySQLOrderRepository;  // êµ¬ì²´ì  êµ¬í˜„ì— ì˜ì¡´

  constructor() {
    this.mysqlRepository = new MySQLOrderRepository();  // ì§ì ‘ ìƒì„±
  }

  createOrder(order: Order): void {
    this.mysqlRepository.save(order);
  }
}

// ì €ìˆ˜ì¤€ ëª¨ë“ˆ
class MySQLOrderRepository {
  save(order: Order): void {
    // MySQL íŠ¹í™” ì €ì¥ ë¡œì§
  }
}
```

ë¬¸ì œì :
- OrderServiceê°€ MySQLì— ê°•í•˜ê²Œ ê²°í•©ë¨
- ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë°”ê¾¸ë ¤ë©´ OrderServiceë„ ìˆ˜ì •í•´ì•¼ í•¨
- í…ŒìŠ¤íŠ¸ ì‹œ ì‹¤ì œ MySQLì´ í•„ìš”í•¨

**ì˜ì¡´ì„± ì—­ì „ ì ìš© (ì¢‹ì€ ì˜ˆ)**

```typescript
// ì¶”ìƒí™” (ì¸í„°í˜ì´ìŠ¤)
interface OrderRepository {
  save(order: Order): Promise<void>;
  findById(id: OrderId): Promise<Order | null>;
}

// ê³ ìˆ˜ì¤€ ëª¨ë“ˆ (ì¶”ìƒí™”ì— ì˜ì¡´)
class OrderService {
  constructor(private orderRepository: OrderRepository) {}  // ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´

  async createOrder(order: Order): Promise<void> {
    await this.orderRepository.save(order);
  }
}

// ì €ìˆ˜ì¤€ ëª¨ë“ˆ (ì¶”ìƒí™” êµ¬í˜„)
class MySQLOrderRepository implements OrderRepository {
  async save(order: Order): Promise<void> {
    // MySQL íŠ¹í™” ì €ì¥ ë¡œì§
  }

  async findById(id: OrderId): Promise<Order | null> {
    // MySQL íŠ¹í™” ì¡°íšŒ ë¡œì§
  }
}

// ë˜ ë‹¤ë¥¸ êµ¬í˜„
class MongoDBOrderRepository implements OrderRepository {
  async save(order: Order): Promise<void> {
    // MongoDB íŠ¹í™” ì €ì¥ ë¡œì§
  }

  async findById(id: OrderId): Promise<Order | null> {
    // MongoDB íŠ¹í™” ì¡°íšŒ ë¡œì§
  }
}

// ì˜ì¡´ì„± ì£¼ì…ìœ¼ë¡œ êµ¬í˜„ ê²°ì •
const orderService = new OrderService(new MySQLOrderRepository());
// ë˜ëŠ”
const orderService = new OrderService(new MongoDBOrderRepository());
```

ì´ì :
- OrderServiceëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì„¸ë¶€ì‚¬í•­ì„ ëª°ë¼ë„ ë¨
- ë°ì´í„°ë² ì´ìŠ¤ ë³€ê²½ ì‹œ OrderService ìˆ˜ì • ë¶ˆí•„ìš”
- í…ŒìŠ¤íŠ¸ ì‹œ Mock Repository ì‚¬ìš© ê°€ëŠ¥

**C# ì˜ˆì œë¡œ DIP ì´í•´í•˜ê¸°**

C#ì€ ì¸í„°í˜ì´ìŠ¤ì™€ ì˜ì¡´ì„± ì£¼ì…ì„ ê°•ë ¥í•˜ê²Œ ì§€ì›í•©ë‹ˆë‹¤.

```csharp
// ì¸í„°í˜ì´ìŠ¤ ì •ì˜
public interface IOrderRepository
{
    Task SaveAsync(Order order);
    Task<Order?> FindByIdAsync(OrderId id);
}

// ê³ ìˆ˜ì¤€ ëª¨ë“ˆ
public class OrderService
{
    private readonly IOrderRepository _orderRepository;
    private readonly IEmailService _emailService;

    // ìƒì„±ì ì£¼ì…
    public OrderService(
        IOrderRepository orderRepository,
        IEmailService emailService)
    {
        _orderRepository = orderRepository;
        _emailService = emailService;
    }

    public async Task CreateOrderAsync(Order order)
    {
        await _orderRepository.SaveAsync(order);
        await _emailService.SendOrderConfirmationAsync(order);
    }
}

// ì €ìˆ˜ì¤€ êµ¬í˜„
public class SqlServerOrderRepository : IOrderRepository
{
    private readonly DbContext _dbContext;

    public SqlServerOrderRepository(DbContext dbContext)
    {
        _dbContext = dbContext;
    }

    public async Task SaveAsync(Order order)
    {
        _dbContext.Orders.Add(order);
        await _dbContext.SaveChangesAsync();
    }

    public async Task<Order?> FindByIdAsync(OrderId id)
    {
        return await _dbContext.Orders
            .FirstOrDefaultAsync(o => o.Id == id.Value);
    }
}

// ASP.NET Core ì˜ì¡´ì„± ì£¼ì… ì„¤ì •
public void ConfigureServices(IServiceCollection services)
{
    services.AddScoped<IOrderRepository, SqlServerOrderRepository>();
    services.AddScoped<IEmailService, SendGridEmailService>();
    services.AddScoped<OrderService>();
}
```

### ê¹¨ë—í•œ ì•„í‚¤í…ì²˜ íŒ¨í„´

**ê¹¨ë—í•œ ì•„í‚¤í…ì²˜(Clean Architecture)**ëŠ” Robert C. Martin(Uncle Bob)ì´ ì œì•ˆí•œ ì•„í‚¤í…ì²˜ íŒ¨í„´ìœ¼ë¡œ, ì˜ì¡´ì„±ì˜ ë°©í–¥ì„ ì•ˆìª½(ë„ë©”ì¸)ìœ¼ë¡œë§Œ í–¥í•˜ê²Œ í•˜ì—¬ í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ê¸°ìˆ  ì„¸ë¶€ì‚¬í•­ê³¼ ì™„ì „íˆ ë¶„ë¦¬í•©ë‹ˆë‹¤.

**ë™ì‹¬ì› êµ¬ì¡°**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frameworks & Drivers (UI, DB)    â”‚ â† ê°€ì¥ ë°”ê¹¥: ê¸°ìˆ  ì„¸ë¶€ì‚¬í•­
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Interface Adapters (Controllers)  â”‚ â† ë³€í™˜ ê³„ì¸µ
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Application Business Rules        â”‚ â† Use Cases
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Enterprise Business Rules         â”‚ â† í•µì‹¬ ë„ë©”ì¸
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†‘ ì˜ì¡´ì„± ë°©í–¥ (ì•ˆìª½ìœ¼ë¡œë§Œ)
```

**í•µì‹¬ ê·œì¹™**

1. **ì˜ì¡´ì„±ì€ ì•ˆìª½ìœ¼ë¡œë§Œ**: ì™¸ë¶€ ê³„ì¸µì€ ë‚´ë¶€ ê³„ì¸µì„ ì•Œì§€ë§Œ, ë‚´ë¶€ ê³„ì¸µì€ ì™¸ë¶€ë¥¼ ëª¨ë¦„
2. **ë„ë©”ì¸ì´ ì¤‘ì‹¬**: ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ì´ ê°€ì¥ ì•ˆì •ì ì´ê³  ë³€í•˜ì§€ ì•ŠìŒ
3. **ê²½ê³„ì—ì„œ ë³€í™˜**: ê³„ì¸µ ê²½ê³„ë¥¼ ë„˜ì„ ë•Œ ë°ì´í„° í˜•ì‹ ë³€í™˜

**í”„ë¡œì íŠ¸ êµ¬ì¡° ì˜ˆ**

```
src/
â”œâ”€â”€ domain/              # ê°€ì¥ ì•ˆìª½: ìˆœìˆ˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”œâ”€â”€ entities/
â”‚   â”‚   â”œâ”€â”€ User.ts
â”‚   â”‚   â””â”€â”€ Order.ts
â”‚   â”œâ”€â”€ value-objects/
â”‚   â”‚   â”œâ”€â”€ Email.ts
â”‚   â”‚   â””â”€â”€ Money.ts
â”‚   â””â”€â”€ repositories/    # ì¸í„°í˜ì´ìŠ¤ë§Œ
â”‚       â”œâ”€â”€ IUserRepository.ts
â”‚       â””â”€â”€ IOrderRepository.ts
â”‚
â”œâ”€â”€ application/         # Use Cases
â”‚   â”œâ”€â”€ use-cases/
â”‚   â”‚   â”œâ”€â”€ CreateUserUseCase.ts
â”‚   â”‚   â””â”€â”€ PlaceOrderUseCase.ts
â”‚   â””â”€â”€ ports/           # ì™¸ë¶€ ì„œë¹„ìŠ¤ ì¸í„°í˜ì´ìŠ¤
â”‚       â”œâ”€â”€ IEmailService.ts
â”‚       â””â”€â”€ IPaymentGateway.ts
â”‚
â”œâ”€â”€ adapters/            # ë³€í™˜ ê³„ì¸µ
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ UserController.ts
â”‚   â”‚   â””â”€â”€ OrderController.ts
â”‚   â”œâ”€â”€ presenters/
â”‚   â”‚   â””â”€â”€ OrderPresenter.ts
â”‚   â””â”€â”€ gateways/
â”‚       â””â”€â”€ StripePaymentGateway.ts
â”‚
â””â”€â”€ infrastructure/      # ê°€ì¥ ë°”ê¹¥: ê¸°ìˆ  ì„¸ë¶€ì‚¬í•­
    â”œâ”€â”€ database/
    â”‚   â”œâ”€â”€ TypeORMUserRepository.ts
    â”‚   â””â”€â”€ TypeORMOrderRepository.ts
    â”œâ”€â”€ email/
    â”‚   â””â”€â”€ SendGridEmailService.ts
    â””â”€â”€ web/
        â””â”€â”€ ExpressApp.ts
```

**ê²½ê³„ ë„˜ê¸° ì˜ˆì œ**

ì»¨íŠ¸ë¡¤ëŸ¬(ì™¸ë¶€)ì—ì„œ Use Case(ë‚´ë¶€)ë¥¼ í˜¸ì¶œí•  ë•Œ:

```typescript
// adapters/controllers/UserController.ts
export class UserController {
  constructor(private createUserUseCase: CreateUserUseCase) {}

  async register(req: Request, res: Response): Promise<void> {
    // HTTP ìš”ì²­(ì™¸ë¶€ í˜•ì‹)ì„ Use Case ì…ë ¥(ë‚´ë¶€ í˜•ì‹)ìœ¼ë¡œ ë³€í™˜
    const input: CreateUserInput = {
      name: req.body.name,
      email: req.body.email,
      password: req.body.password
    };

    const output = await this.createUserUseCase.execute(input);

    // Use Case ì¶œë ¥(ë‚´ë¶€ í˜•ì‹)ì„ HTTP ì‘ë‹µ(ì™¸ë¶€ í˜•ì‹)ìœ¼ë¡œ ë³€í™˜
    res.status(201).json({
      id: output.userId,
      message: 'User created successfully'
    });
  }
}
```

Use CaseëŠ” HTTPë¥¼ ì „í˜€ ëª¨ë¦…ë‹ˆë‹¤. Controllerê°€ ë³€í™˜ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.

**í…ŒìŠ¤íŠ¸ ìš©ì´ì„±**

ê¹¨ë—í•œ ì•„í‚¤í…ì²˜ì˜ í° ì´ì ì€ í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤. ë„ë©”ì¸ê³¼ Use Caseë¥¼ UI, ë°ì´í„°ë² ì´ìŠ¤ ì—†ì´ ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```typescript
describe('CreateUserUseCase', () => {
  it('should create user with valid data', async () => {
    // Mock Repository (ì‹¤ì œ DB ë¶ˆí•„ìš”)
    const mockUserRepository: IUserRepository = {
      save: jest.fn(),
      findByEmail: jest.fn().mockResolvedValue(null)
    };

    // Mock Email Service (ì‹¤ì œ ì´ë©”ì¼ ë°œì†¡ ë¶ˆí•„ìš”)
    const mockEmailService: IEmailService = {
      sendWelcomeEmail: jest.fn()
    };

    const useCase = new CreateUserUseCase(
      mockUserRepository,
      mockEmailService
    );

    const input = {
      name: 'John Doe',
      email: 'john@example.com',
      password: 'SecurePass123'
    };

    const output = await useCase.execute(input);

    expect(output.userId).toBeDefined();
    expect(mockUserRepository.save).toHaveBeenCalled();
    expect(mockEmailService.sendWelcomeEmail).toHaveBeenCalled();
  });
});
```

// ì´ë¯¸ì§€ë¡œ êµì²´ë˜ì–´ì•¼ í•¨ : ê¹¨ë—í•œ ì•„í‚¤í…ì²˜ì˜ ë™ì‹¬ì› êµ¬ì¡°ì™€ ì˜ì¡´ì„± ë°©í–¥ì„ ë³´ì—¬ì£¼ëŠ” ë‹¤ì´ì–´ê·¸ë¨
í”„ë¡¬í”„íŠ¸: A concentric circles diagram of Clean Architecture showing layers from outside to inside: Frameworks & Drivers, Interface Adapters, Application Business Rules, Enterprise Business Rules at center, arrows pointing inward showing dependency direction, modern technical diagram style with clear labels

## 3. ì‹¤ìŠµ: GitHub Copilotìœ¼ë¡œ ì˜ë£Œ ë°ì´í„° ê´€ë¦¬ ì‹œìŠ¤í…œ ì„¤ê³„

ì´ì œ ë°°ìš´ ì¶”ìƒí™” ê³„ì¸µ ì„¤ê³„ë¥¼ ì‹¤ì œë¡œ ì ìš©í•´ë´…ì‹œë‹¤. ì˜ë£Œ ë°ì´í„° ê´€ë¦¬ ì‹œìŠ¤í…œì€ ë³µì¡í•œ ë„ë©”ì¸ ê·œì¹™, ë†’ì€ ë³´ì•ˆ ìš”êµ¬ì‚¬í•­, ë‹¤ì–‘í•œ ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™ì´ í•„ìš”í•œ í˜„ì‹¤ì ì¸ ì˜ˆì œì…ë‹ˆë‹¤.

### ìš”êµ¬ì‚¬í•­ ë¶„ì„

**ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ì‚¬í•­**

ì¤‘ì†Œ ë³‘ì›ì„ ìœ„í•œ í™˜ì ë°ì´í„° ê´€ë¦¬ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•©ë‹ˆë‹¤:

1. **í™˜ì ê´€ë¦¬**: í™˜ì ë“±ë¡, ê¸°ë³¸ ì •ë³´ ê´€ë¦¬, ì˜ë£Œ ê¸°ë¡ ì¡°íšŒ
2. **ì§„ë£Œ ê¸°ë¡**: ì§„ë£Œ ë‚´ì—­ ê¸°ë¡, ì²˜ë°©ì „ ë°œí–‰, ê²€ì‚¬ ê²°ê³¼ ê¸°ë¡
3. **ì˜ˆì•½ ê´€ë¦¬**: ì§„ë£Œ ì˜ˆì•½ ìƒì„±, ë³€ê²½, ì·¨ì†Œ
4. **ë³´ì•ˆ**: HIPAA ì¤€ìˆ˜, í™˜ì ì •ë³´ ì•”í˜¸í™”, ì ‘ê·¼ ë¡œê¹…

**ë¹„ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­**

- **ë³´ì•ˆ**: í™˜ì ì •ë³´ëŠ” ìµœê³  ìˆ˜ì¤€ì˜ ë³´ì•ˆ í•„ìš”
- **ê°ì‚¬**: ëª¨ë“  ë°ì´í„° ì ‘ê·¼ ë¡œê¹…
- **ì„±ëŠ¥**: í™˜ì ì¡°íšŒ < 100ms
- **í™•ì¥ì„±**: í–¥í›„ ë‹¤ë¥¸ ë³‘ì›ìœ¼ë¡œ í™•ì¥ ê°€ëŠ¥

**GitHub Copilotì—ê²Œ ë„ë©”ì¸ ëª¨ë¸ë§ ìš”ì²­**

```
"ì˜ë£Œ ë°ì´í„° ê´€ë¦¬ ì‹œìŠ¤í…œì˜ í•µì‹¬ ë„ë©”ì¸ ëª¨ë¸ì„ ì„¤ê³„í•´ì¤˜.
í™˜ì(Patient), ì§„ë£Œ(MedicalRecord), ì˜ì‚¬(Doctor), ì˜ˆì•½(Appointment)ì„ í¬í•¨í•˜ê³ ,
ê°ê°ì˜ ì£¼ìš” ì†ì„±ê³¼ ê´€ê³„ë¥¼ TypeScript ì¸í„°í˜ì´ìŠ¤ë¡œ ì •ì˜í•´ì¤˜.
HIPAA ê·œì •ì„ ê³ ë ¤í•œ ë¯¼ê° ì •ë³´ ì²˜ë¦¬ë„ í¬í•¨í•´ì¤˜."
```

Copilotì´ ìƒì„±í•  ë„ë©”ì¸ ëª¨ë¸:

```typescript
// domain/entities/Patient.ts
type PatientId = string & { __brand: 'PatientId' };
type SSN = string & { __brand: 'SSN' };  // Social Security Number (ë¯¼ê° ì •ë³´)

export class Patient {
  private constructor(
    public readonly id: PatientId,
    private name: string,
    private dateOfBirth: Date,
    private ssn: SSN,  // ì•”í˜¸í™” í•„ìš”
    private contactInfo: ContactInfo,
    private insuranceInfo: InsuranceInfo
  ) {}

  static create(props: CreatePatientProps): Patient {
    // ê²€ì¦ ë¡œì§
    if (props.name.length < 2) {
      throw new InvalidPatientNameError();
    }

    if (!this.isValidSSN(props.ssn)) {
      throw new InvalidSSNError();
    }

    return new Patient(
      PatientId.generate(),
      props.name,
      props.dateOfBirth,
      props.ssn,
      props.contactInfo,
      props.insuranceInfo
    );
  }

  // SSNì€ ì•”í˜¸í™”ëœ í˜•íƒœë¡œë§Œ ë°˜í™˜
  getEncryptedSSN(): string {
    return encrypt(this.ssn);
  }

  // ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™: 18ì„¸ ë¯¸ë§Œì€ ë³´í˜¸ì ë™ì˜ í•„ìš”
  isMinor(): boolean {
    const age = this.calculateAge();
    return age < 18;
  }

  private calculateAge(): number {
    const today = new Date();
    const birthDate = new Date(this.dateOfBirth);
    let age = today.getFullYear() - birthDate.getFullYear();
    const monthDiff = today.getMonth() - birthDate.getMonth();
    
    if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {
      age--;
    }
    
    return age;
  }

  private static isValidSSN(ssn: string): boolean {
    return /^\d{3}-\d{2}-\d{4}$/.test(ssn);
  }
}

// domain/entities/MedicalRecord.ts
export class MedicalRecord {
  private constructor(
    public readonly id: MedicalRecordId,
    public readonly patientId: PatientId,
    public readonly doctorId: DoctorId,
    private diagnosis: string,
    private prescription: Prescription[],
    private notes: string,  // ì˜ì‚¬ ì†Œê²¬ (ë¯¼ê° ì •ë³´)
    private recordedAt: Date
  ) {}

  static create(props: CreateMedicalRecordProps): MedicalRecord {
    return new MedicalRecord(
      MedicalRecordId.generate(),
      props.patientId,
      props.doctorId,
      props.diagnosis,
      props.prescription,
      props.notes,
      new Date()
    );
  }

  addPrescription(medication: Medication, dosage: string, duration: number): void {
    this.prescription.push(new Prescription(medication, dosage, duration));
  }

  // ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™: ê¸°ë¡ ì‘ì„± í›„ 24ì‹œê°„ ì´ë‚´ë§Œ ìˆ˜ì • ê°€ëŠ¥
  canEdit(): boolean {
    const now = new Date();
    const hoursSinceRecorded = (now.getTime() - this.recordedAt.getTime()) / (1000 * 60 * 60);
    return hoursSinceRecorded < 24;
  }
}
```

### ê³„ì¸µ êµ¬ì¡° ì„¤ê³„

```
"ìœ„ ë„ë©”ì¸ ëª¨ë¸ì„ ê¸°ë°˜ìœ¼ë¡œ ê¹¨ë—í•œ ì•„í‚¤í…ì²˜ íŒ¨í„´ì„ ì ìš©í•œ ê³„ì¸µ êµ¬ì¡°ë¥¼ ì„¤ê³„í•´ì¤˜.
ê° ê³„ì¸µì˜ ì±…ì„ê³¼ ì£¼ìš” ì»´í¬ë„ŒíŠ¸ë¥¼ ì„¤ëª…í•´ì¤˜."
```

Copilotì´ ì œì•ˆí•  êµ¬ì¡°:

```
src/
â”œâ”€â”€ domain/                        # í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (ê°€ì¥ ì•ˆìª½)
â”‚   â”œâ”€â”€ entities/
â”‚   â”‚   â”œâ”€â”€ Patient.ts
â”‚   â”‚   â”œâ”€â”€ MedicalRecord.ts
â”‚   â”‚   â”œâ”€â”€ Doctor.ts
â”‚   â”‚   â””â”€â”€ Appointment.ts
â”‚   â”œâ”€â”€ value-objects/
â”‚   â”‚   â”œâ”€â”€ PatientId.ts
â”‚   â”‚   â”œâ”€â”€ ContactInfo.ts
â”‚   â”‚   â””â”€â”€ Prescription.ts
â”‚   â””â”€â”€ repositories/              # ì¸í„°í˜ì´ìŠ¤ë§Œ
â”‚       â”œâ”€â”€ IPatientRepository.ts
â”‚       â””â”€â”€ IMedicalRecordRepository.ts
â”‚
â”œâ”€â”€ application/                   # Use Cases
â”‚   â”œâ”€â”€ use-cases/
â”‚   â”‚   â”œâ”€â”€ RegisterPatientUseCase.ts
â”‚   â”‚   â”œâ”€â”€ CreateMedicalRecordUseCase.ts
â”‚   â”‚   â””â”€â”€ ScheduleAppointmentUseCase.ts
â”‚   â””â”€â”€ ports/                     # ì™¸ë¶€ ì„œë¹„ìŠ¤ ì¸í„°í˜ì´ìŠ¤
â”‚       â”œâ”€â”€ IEncryptionService.ts
â”‚       â””â”€â”€ IAuditLogger.ts
â”‚
â”œâ”€â”€ adapters/                      # ë³€í™˜ ê³„ì¸µ
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ PatientController.ts
â”‚   â”‚   â””â”€â”€ MedicalRecordController.ts
â”‚   â””â”€â”€ presenters/
â”‚       â””â”€â”€ PatientPresenter.ts
â”‚
â””â”€â”€ infrastructure/                # ê¸°ìˆ  ì„¸ë¶€ì‚¬í•­ (ê°€ì¥ ë°”ê¹¥)
    â”œâ”€â”€ database/
    â”‚   â”œâ”€â”€ PostgresPatientRepository.ts
    â”‚   â””â”€â”€ PostgresMedicalRecordRepository.ts
    â”œâ”€â”€ security/
    â”‚   â”œâ”€â”€ AESEncryptionService.ts
    â”‚   â””â”€â”€ HIPAACompliantAuditLogger.ts
    â””â”€â”€ web/
        â””â”€â”€ ExpressApp.ts
```

### ì¸í„°í˜ì´ìŠ¤ ì •ì˜

**Repository ì¸í„°í˜ì´ìŠ¤ ì •ì˜**

```
"PatientRepository ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•´ì¤˜.
ê¸°ë³¸ CRUD ì™¸ì— HIPAA ê·œì •ì„ ê³ ë ¤í•œ ê°ì‚¬ ë¡œê¹…ê³¼ ì•”í˜¸í™”ëœ ì¡°íšŒ ê¸°ëŠ¥ì„ í¬í•¨í•´ì¤˜."
```

```typescript
// domain/repositories/IPatientRepository.ts
export interface IPatientRepository {
  // ê¸°ë³¸ CRUD
  save(patient: Patient): Promise<void>;
  findById(id: PatientId): Promise<Patient | null>;
  findAll(): Promise<Patient[]>;
  delete(id: PatientId): Promise<void>;

  // HIPAA íŠ¹í™” ê¸°ëŠ¥
  findBySSN(ssn: SSN, accessContext: AccessContext): Promise<Patient | null>;
  searchByName(name: string, accessContext: AccessContext): Promise<Patient[]>;
  
  // ê°ì‚¬ ì¶”ì 
  logAccess(patientId: PatientId, accessedBy: DoctorId, reason: string): Promise<void>;
}

// AccessContext: ëˆ„ê°€, ì™œ ì ‘ê·¼í•˜ëŠ”ì§€ ëª…ì‹œ
export interface AccessContext {
  doctorId: DoctorId;
  reason: string;  // "ì§„ë£Œ", "ê²€ì‚¬ ê²°ê³¼ í™•ì¸" ë“±
  timestamp: Date;
}
```

**Use Case ì¸í„°í˜ì´ìŠ¤ ì •ì˜**

```
"RegisterPatientUseCaseë¥¼ ì •ì˜í•´ì¤˜.
ì…ë ¥ ê²€ì¦, ì¤‘ë³µ í™•ì¸, ì•”í˜¸í™”, ê°ì‚¬ ë¡œê¹…ì„ í¬í•¨í•˜ëŠ” ì™„ì „í•œ êµ¬í˜„ì„ ì‘ì„±í•´ì¤˜."
```

```typescript
// application/use-cases/RegisterPatientUseCase.ts
export class RegisterPatientUseCase {
  constructor(
    private patientRepository: IPatientRepository,
    private encryptionService: IEncryptionService,
    private auditLogger: IAuditLogger
  ) {}

  async execute(input: RegisterPatientInput, context: AccessContext): Promise<RegisterPatientOutput> {
    // 1. ì…ë ¥ ê²€ì¦
    this.validateInput(input);

    // 2. ì¤‘ë³µ í™•ì¸ (SSN ê¸°ì¤€)
    const existingPatient = await this.patientRepository.findBySSN(
      input.ssn,
      context
    );
    
    if (existingPatient) {
      throw new PatientAlreadyExistsError(input.ssn);
    }

    // 3. í™˜ì ìƒì„± (ë„ë©”ì¸ ë¡œì§)
    const patient = Patient.create({
      name: input.name,
      dateOfBirth: new Date(input.dateOfBirth),
      ssn: input.ssn,
      contactInfo: input.contactInfo,
      insuranceInfo: input.insuranceInfo
    });

    // 4. ë¯¼ê° ì •ë³´ ì•”í˜¸í™”
    await this.encryptionService.encryptPatientData(patient);

    // 5. ì €ì¥
    await this.patientRepository.save(patient);

    // 6. ê°ì‚¬ ë¡œê¹… (HIPAA ìš”êµ¬ì‚¬í•­)
    await this.auditLogger.log({
      action: 'PATIENT_REGISTERED',
      patientId: patient.id,
      performedBy: context.doctorId,
      timestamp: new Date(),
      details: { reason: context.reason }
    });

    return {
      patientId: patient.id,
      message: 'Patient registered successfully'
    };
  }

  private validateInput(input: RegisterPatientInput): void {
    if (!input.name || input.name.length < 2) {
      throw new ValidationError('Name must be at least 2 characters');
    }

    if (!this.isValidSSN(input.ssn)) {
      throw new ValidationError('Invalid SSN format');
    }

    if (!input.dateOfBirth || new Date(input.dateOfBirth) > new Date()) {
      throw new ValidationError('Invalid date of birth');
    }
  }

  private isValidSSN(ssn: string): boolean {
    return /^\d{3}-\d{2}-\d{4}$/.test(ssn);
  }
}
```

### êµ¬í˜„ ë° ê²€ì¦

**Infrastructure ê³„ì¸µ êµ¬í˜„**

```
"IPatientRepositoryë¥¼ PostgreSQLë¡œ êµ¬í˜„í•´ì¤˜.
ë°ì´í„° ì•”í˜¸í™”, ê°ì‚¬ ë¡œê¹…, íŠ¸ëœì­ì…˜ ê´€ë¦¬ë¥¼ í¬í•¨í•´ì¤˜."
```

```typescript
// infrastructure/database/PostgresPatientRepository.ts
export class PostgresPatientRepository implements IPatientRepository {
  constructor(
    private dbClient: Pool,
    private encryptionService: IEncryptionService,
    private auditLogger: IAuditLogger
  ) {}

  async save(patient: Patient): Promise<void> {
    const client = await this.dbClient.connect();
    
    try {
      await client.query('BEGIN');

      // SSN ì•”í˜¸í™”
      const encryptedSSN = await this.encryptionService.encrypt(patient.getSSN());

      await client.query(
        `INSERT INTO patients (id, name, date_of_birth, ssn_encrypted, contact_info, insurance_info)
         VALUES ($1, $2, $3, $4, $5, $6)`,
        [
          patient.id,
          patient.getName(),
          patient.getDateOfBirth(),
          encryptedSSN,
          JSON.stringify(patient.getContactInfo()),
          JSON.stringify(patient.getInsuranceInfo())
        ]
      );

      await client.query('COMMIT');
    } catch (error) {
      await client.query('ROLLBACK');
      throw new DatabaseError('Failed to save patient', error);
    } finally {
      client.release();
    }
  }

  async findById(id: PatientId): Promise<Patient | null> {
    const result = await this.dbClient.query(
      'SELECT * FROM patients WHERE id = $1',
      [id]
    );

    if (result.rows.length === 0) {
      return null;
    }

    return this.mapRowToPatient(result.rows[0]);
  }

  async findBySSN(ssn: SSN, context: AccessContext): Promise<Patient | null> {
    // SSN ì•”í˜¸í™”í•˜ì—¬ ê²€ìƒ‰
    const encryptedSSN = await this.encryptionService.encrypt(ssn);

    const result = await this.dbClient.query(
      'SELECT * FROM patients WHERE ssn_encrypted = $1',
      [encryptedSSN]
    );

    if (result.rows.length === 0) {
      return null;
    }

    const patient = this.mapRowToPatient(result.rows[0]);

    // ì ‘ê·¼ ë¡œê¹… (HIPAA ìš”êµ¬ì‚¬í•­)
    await this.logAccess(patient.id, context.doctorId, context.reason);

    return patient;
  }

  async logAccess(patientId: PatientId, accessedBy: DoctorId, reason: string): Promise<void> {
    await this.auditLogger.log({
      action: 'PATIENT_ACCESSED',
      patientId,
      performedBy: accessedBy,
      timestamp: new Date(),
      details: { reason }
    });
  }

  private async mapRowToPatient(row: any): Promise<Patient> {
    // ì•”í˜¸í™”ëœ SSN ë³µí˜¸í™”
    const decryptedSSN = await this.encryptionService.decrypt(row.ssn_encrypted);

    return Patient.reconstitute({
      id: row.id,
      name: row.name,
      dateOfBirth: row.date_of_birth,
      ssn: decryptedSSN,
      contactInfo: JSON.parse(row.contact_info),
      insuranceInfo: JSON.parse(row.insurance_info)
    });
  }
}
```

**í…ŒìŠ¤íŠ¸ ì½”ë“œ ìƒì„±**

```
"RegisterPatientUseCaseì˜ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ì¤˜.
ì •ìƒ ì¼€ì´ìŠ¤, ì¤‘ë³µ í™˜ì, ìœ íš¨í•˜ì§€ ì•Šì€ ì…ë ¥ ì¼€ì´ìŠ¤ë¥¼ í¬í•¨í•´ì¤˜."
```

```typescript
describe('RegisterPatientUseCase', () => {
  let useCase: RegisterPatientUseCase;
  let mockPatientRepository: jest.Mocked<IPatientRepository>;
  let mockEncryptionService: jest.Mocked<IEncryptionService>;
  let mockAuditLogger: jest.Mocked<IAuditLogger>;

  beforeEach(() => {
    mockPatientRepository = {
      save: jest.fn(),
      findBySSN: jest.fn(),
      // ... ë‹¤ë¥¸ ë©”ì„œë“œ mock
    };

    mockEncryptionService = {
      encrypt: jest.fn(),
      decrypt: jest.fn(),
      encryptPatientData: jest.fn()
    };

    mockAuditLogger = {
      log: jest.fn()
    };

    useCase = new RegisterPatientUseCase(
      mockPatientRepository,
      mockEncryptionService,
      mockAuditLogger
    );
  });

  it('should register patient with valid data', async () => {
    // Given
    mockPatientRepository.findBySSN.mockResolvedValue(null);
    
    const input: RegisterPatientInput = {
      name: 'John Doe',
      dateOfBirth: '1980-01-01',
      ssn: '123-45-6789',
      contactInfo: { phone: '555-1234', email: 'john@example.com' },
      insuranceInfo: { provider: 'Blue Cross', policyNumber: 'BC123456' }
    };

    const context: AccessContext = {
      doctorId: 'doctor-123',
      reason: 'ì‹ ê·œ í™˜ì ë“±ë¡',
      timestamp: new Date()
    };

    // When
    const result = await useCase.execute(input, context);

    // Then
    expect(result.patientId).toBeDefined();
    expect(mockPatientRepository.save).toHaveBeenCalled();
    expect(mockEncryptionService.encryptPatientData).toHaveBeenCalled();
    expect(mockAuditLogger.log).toHaveBeenCalledWith(
      expect.objectContaining({
        action: 'PATIENT_REGISTERED'
      })
    );
  });

  it('should throw error when patient already exists', async () => {
    // Given
    const existingPatient = Patient.create(/* ... */);
    mockPatientRepository.findBySSN.mockResolvedValue(existingPatient);

    const input = { /* ... */ };
    const context = { /* ... */ };

    // When & Then
    await expect(useCase.execute(input, context))
      .rejects.toThrow(PatientAlreadyExistsError);
  });

  it('should throw error with invalid SSN format', async () => {
    // Given
    const input: RegisterPatientInput = {
      name: 'John Doe',
      dateOfBirth: '1980-01-01',
      ssn: 'invalid-ssn',  // ì˜ëª»ëœ í˜•ì‹
      contactInfo: { phone: '555-1234', email: 'john@example.com' },
      insuranceInfo: { provider: 'Blue Cross', policyNumber: 'BC123456' }
    };

    const context = { /* ... */ };

    // When & Then
    await expect(useCase.execute(input, context))
      .rejects.toThrow(ValidationError);
  });
});
```

ì´ ì‹¤ìŠµì„ í†µí•´ ì—¬ëŸ¬ë¶„ì€ ë³µì¡í•œ ë„ë©”ì¸ì—ì„œë„ ê¹¨ë—í•œ ì¶”ìƒí™” ê³„ì¸µì„ ì„¤ê³„í•˜ê³ , GitHub Copilotê³¼ í˜‘ì—…í•˜ì—¬ ë³´ì•ˆ, ê·œì • ì¤€ìˆ˜, í…ŒìŠ¤íŠ¸ ê°€ëŠ¥ì„±ì„ ëª¨ë‘ ë§Œì¡±í•˜ëŠ” ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ëŠ” ë°©ë²•ì„ ìµí˜”ìŠµë‹ˆë‹¤.

// ì´ë¯¸ì§€ë¡œ êµì²´ë˜ì–´ì•¼ í•¨ : ì˜ë£Œ ì‹œìŠ¤í…œì˜ ê³„ì¸µ êµ¬ì¡°ì™€ ì˜ì¡´ì„± ë°©í–¥ì„ ë³´ì—¬ì£¼ëŠ” íŒ¨í‚¤ì§€ ë‹¤ì´ì–´ê·¸ë¨
í”„ë¡¬í”„íŠ¸: A package diagram showing medical system layers: domain layer at center with Patient and MedicalRecord entities, application layer with use cases, adapters layer with controllers, infrastructure layer with database and security services, arrows showing dependency direction inward, HIPAA compliance annotations, clean technical diagram style

## 4. ì‹¤ìŠµ ê²°ê³¼ ìš”ì•½

ì´ë²ˆ ì£¼ì°¨ì—ì„œ ìš°ë¦¬ëŠ” ì¶”ìƒí™” ê³„ì¸µ ì„¤ê³„ì˜ ì´ë¡ ê³¼ ì‹¤ì²œì„ í•™ìŠµí–ˆìŠµë‹ˆë‹¤. ë³µì¡í•œ ì‹œìŠ¤í…œì„ ëª…í™•í•œ ê³„ì¸µìœ¼ë¡œ ë¶„ë¦¬í•˜ê³ , ê° ê³„ì¸µ ê°„ ì±…ì„ê³¼ ì˜ì¡´ì„±ì„ ê´€ë¦¬í•˜ëŠ” ë°©ë²•ì„ ìµí˜”ìŠµë‹ˆë‹¤.

### í•µì‹¬ í•™ìŠµ ë‚´ìš©

**ì¶”ìƒí™”ì˜ ë³¸ì§ˆ**

ì¶”ìƒí™”ëŠ” ë³µì¡ì„±ì„ ê´€ë¦¬í•˜ëŠ” ê°€ì¥ ê°•ë ¥í•œ ë„êµ¬ì…ë‹ˆë‹¤. ì„¸ë¶€ì‚¬í•­ì„ ìˆ¨ê¸°ê³ , í•µì‹¬ ê°œë…ë§Œ ë“œëŸ¬ë‚´ë©°, "ë¬´ì—‡ì„"ê³¼ "ì–´ë–»ê²Œ"ë¥¼ ë¶„ë¦¬í•©ë‹ˆë‹¤. ì¢‹ì€ ì¶”ìƒí™”ëŠ” ë‹¨ìˆœí•˜ê³ , ì¼ê´€ì ì´ë©°, ì™„ì „í•˜ê³ , ì•ˆì •ì ì…ë‹ˆë‹¤.

ì¶”ìƒí™”ëŠ” ì—¬ëŸ¬ ìˆ˜ì¤€ì—ì„œ ì¼ì–´ë‚©ë‹ˆë‹¤. í•˜ë“œì›¨ì–´ ì¶”ìƒí™”, ì–¸ì–´ ì¶”ìƒí™”, ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ìƒí™”, ê·¸ë¦¬ê³  ê°€ì¥ ì¤‘ìš”í•œ ë„ë©”ì¸ ì¶”ìƒí™”ê¹Œì§€, ê° ìˆ˜ì¤€ì´ ë³µì¡ì„±ì˜ í•œ ê³„ì¸µì„ ì œê±°í•˜ê³  ë” ë†’ì€ ìˆ˜ì¤€ì˜ ì‚¬ê³ ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤.

**API ì„¤ê³„ì˜ ì›ì¹™**

APIëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì»´í¬ë„ŒíŠ¸ ê°„ ê³„ì•½ì…ë‹ˆë‹¤. ìµœì†Œ ë†€ë¼ì›€ì˜ ë²•ì¹™ì„ ë”°ë¥´ê³ , í‘œí˜„ë ¥ ìˆëŠ” ì´ë¦„ì„ ì‚¬ìš©í•˜ë©°, TypeScript/C#ì˜ ê°•íƒ€ì… ì‹œìŠ¤í…œì„ í™œìš©í•˜ê³ , ë¶ˆë³€ì„±ì„ ìš°ì„ í•˜ë©°, ì—ëŸ¬ ì²˜ë¦¬ë¥¼ ëª…ì‹œí•˜ê³ , ë²„ì „ ê´€ë¦¬ë¥¼ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.

ì¢‹ì€ APIëŠ” ì‚¬ìš©í•˜ê¸° ì‰½ê³ , ì˜¤ìš©í•˜ê¸° ì–´ìš°ë©°, ë³€ê²½ì— ê°•í•©ë‹ˆë‹¤. ì´ëŠ” ì„¤ê³„ ë‹¨ê³„ì—ì„œì˜ ì„¸ì‹¬í•œ ê³ ë ¤ë¥¼ í†µí•´ ë‹¬ì„±ë©ë‹ˆë‹¤.

**ê³„ì¸µ ì•„í‚¤í…ì²˜ì˜ ì‹¤ì²œ**

ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜ëŠ” ì‹œìŠ¤í…œì„ ìˆ˜í‰ ê³„ì¸µìœ¼ë¡œ ë‚˜ëˆ•ë‹ˆë‹¤. Presentation, Application, Domain, Infrastructure ê° ê³„ì¸µì€ ëª…í™•í•œ ì±…ì„ì„ ê°€ì§€ë©°, ì˜ì¡´ì„±ì€ ì•„ë˜ë¡œë§Œ íë¦…ë‹ˆë‹¤.

ì˜ì¡´ì„± ì—­ì „ ì›ì¹™(DIP)ì€ ê³ ìˆ˜ì¤€ ëª¨ë“ˆì´ ì €ìˆ˜ì¤€ ëª¨ë“ˆì— ì˜ì¡´í•˜ì§€ ì•Šê³ , ë‘˜ ë‹¤ ì¶”ìƒí™”ì— ì˜ì¡´í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤. ì´ëŠ” ì‹œìŠ¤í…œì„ ìœ ì—°í•˜ê³  í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•˜ê²Œ ë§Œë“œëŠ” í•µì‹¬ ê¸°ë²•ì…ë‹ˆë‹¤.

ê¹¨ë—í•œ ì•„í‚¤í…ì²˜ëŠ” ì˜ì¡´ì„±ì„ ì•ˆìª½(ë„ë©”ì¸)ìœ¼ë¡œë§Œ í–¥í•˜ê²Œ í•˜ì—¬, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ê¸°ìˆ  ì„¸ë¶€ì‚¬í•­ê³¼ ì™„ì „íˆ ë¶„ë¦¬í•©ë‹ˆë‹¤. ë„ë©”ì¸ì´ ì¤‘ì‹¬ì´ê³ , í”„ë ˆì„ì›Œí¬ì™€ ë°ì´í„°ë² ì´ìŠ¤ëŠ” êµì²´ ê°€ëŠ¥í•œ í”ŒëŸ¬ê·¸ì¸ì…ë‹ˆë‹¤.

**ì˜ë£Œ ì‹œìŠ¤í…œ ì„¤ê³„ ê²½í—˜**

ì‹¤ìŠµì„ í†µí•´ ë³µì¡í•œ ë„ë©”ì¸ ê·œì¹™(HIPAA ê·œì •), ë†’ì€ ë³´ì•ˆ ìš”êµ¬ì‚¬í•­(ë°ì´í„° ì•”í˜¸í™”, ì ‘ê·¼ ë¡œê¹…), ë‹¤ì–‘í•œ ê³„ì¸µ ê°„ í˜‘ë ¥ì„ ê²½í—˜í–ˆìŠµë‹ˆë‹¤. GitHub Copilotê³¼ í˜‘ì—…í•˜ì—¬ ë„ë©”ì¸ ëª¨ë¸, Use Case, Repository êµ¬í˜„, í…ŒìŠ¤íŠ¸ ì½”ë“œê¹Œì§€ ì „ ê³¼ì •ì„ ì™„ì„±í–ˆìŠµë‹ˆë‹¤.

ì¶”ìƒí™” ê³„ì¸µì´ ì–´ë–»ê²Œ ë³µì¡ë„ë¥¼ ë‚®ì¶”ê³ , ë³€ê²½ì„ ì•ˆì „í•˜ê²Œ ë§Œë“¤ë©°, í…ŒìŠ¤íŠ¸ë¥¼ ì‰½ê²Œ í•˜ëŠ”ì§€ êµ¬ì²´ì ìœ¼ë¡œ ê²½í—˜í–ˆìŠµë‹ˆë‹¤.

### ì‹¤ë¬´ ì ìš© ê°€ì´ë“œ

**ì¶”ìƒí™” ìˆ˜ì¤€ ê²°ì •**

ë„ˆë¬´ ë‚®ì€ ì¶”ìƒí™”ëŠ” ì‚¬ìš©ìì—ê²Œ ë„ˆë¬´ ë§ì€ ì„¸ë¶€ì‚¬í•­ì„ ë…¸ì¶œí•©ë‹ˆë‹¤. ë„ˆë¬´ ë†’ì€ ì¶”ìƒí™”ëŠ” ì§€ë‚˜ì¹˜ê²Œ ì¼ë°˜ì ì´ì–´ì„œ ì‹¤ìš©ì„±ì´ ë–¨ì–´ì§‘ë‹ˆë‹¤. ì ì ˆí•œ ìˆ˜ì¤€ì€ ë„ë©”ì¸ ì „ë¬¸ê°€ì™€ ê°œë°œìê°€ ëª¨ë‘ ì´í•´í•  ìˆ˜ ìˆê³ , ëŒ€ë¶€ë¶„ì˜ ì‚¬ìš© ì‚¬ë¡€ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ í‘œí˜„í•  ìˆ˜ ìˆëŠ” ìˆ˜ì¤€ì…ë‹ˆë‹¤.

GitHub Copilotì—ê²Œ "ì´ APIê°€ ë„ˆë¬´ ë³µì¡í•œê°€? ë” ë‹¨ìˆœí•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì œì•ˆí•´ì¤˜"ë¼ê³  ë¬¼ì–´ë³´ì„¸ìš”. AIëŠ” ì‚¬ìš©ì ê´€ì ì—ì„œ ì¸í„°í˜ì´ìŠ¤ë¥¼ í‰ê°€í•˜ê³  ê°œì„  ì•„ì´ë””ì–´ë¥¼ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ê³„ì¸µ ê°„ ê²½ê³„ ìœ ì§€**

ê³„ì¸µ ê²½ê³„ë¥¼ ë„˜ë‚˜ë“¤ ë•ŒëŠ” ëª…ì‹œì ì¸ ë³€í™˜ì„ ìˆ˜í–‰í•˜ì„¸ìš”. HTTP ìš”ì²­ì„ ë„ë©”ì¸ ê°ì²´ë¡œ, ë„ë©”ì¸ ê°ì²´ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ ì—”í‹°í‹°ë¡œ, ê° ê²½ê³„ì—ì„œ ì ì ˆí•œ í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.

ê²½ê³„ë¥¼ ì§€í‚¤ë©´ ê° ê³„ì¸µì„ ë…ë¦½ì ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë°”ê¿”ë„ ë„ë©”ì¸ì€ ì˜í–¥ë°›ì§€ ì•Šê³ , ë„ë©”ì¸ ê·œì¹™ì„ ë°”ê¿”ë„ API ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ìµœì†Œí•œë§Œ ìˆ˜ì •ë©ë‹ˆë‹¤.

**ì¸í„°í˜ì´ìŠ¤ ìš°ì„  ì„¤ê³„**

êµ¬í˜„ë³´ë‹¤ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë¨¼ì € ì„¤ê³„í•˜ì„¸ìš”. "ì´ ì„œë¹„ìŠ¤ëŠ” ë¬´ì—‡ì„ ì œê³µí•´ì•¼ í•˜ëŠ”ê°€?"ë¥¼ ë¨¼ì € ì •ì˜í•˜ê³ , "ì–´ë–»ê²Œ êµ¬í˜„í•  ê²ƒì¸ê°€"ëŠ” ë‚˜ì¤‘ì— ê²°ì •í•©ë‹ˆë‹¤.

```
"OrderServiceì˜ ê³µê°œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì„¤ê³„í•´ì¤˜. 
ì£¼ë¬¸ ìƒì„±, ì·¨ì†Œ, ì¡°íšŒ ê¸°ëŠ¥ì„ í¬í•¨í•˜ê³ , ê° ë©”ì„œë“œì˜ ì…ë ¥, ì¶œë ¥, ì—ëŸ¬ë¥¼ ëª…í™•íˆ ì •ì˜í•´ì¤˜."
```

ì¸í„°í˜ì´ìŠ¤ê°€ ëª…í™•í•˜ë©´, GitHub Copilotì´ êµ¬í˜„ì„ ìƒì„±í•˜ê¸° ì‰½ê³ , ì—¬ëŸ¬ êµ¬í˜„(Mock, ì‹¤ì œ êµ¬í˜„)ì„ ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì ì§„ì  ì¶”ìƒí™”**

ì²˜ìŒë¶€í„° ì™„ë²½í•œ ì¶”ìƒí™”ë¥¼ ë§Œë“¤ í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤. êµ¬ì²´ì ì¸ êµ¬í˜„ìœ¼ë¡œ ì‹œì‘í•˜ê³ , íŒ¨í„´ì´ ë³´ì´ë©´ ì¶”ìƒí™”í•˜ì„¸ìš”. "3ë²ˆ ë°˜ë³µë˜ë©´ ì¶”ìƒí™”í•˜ë¼"ëŠ” ê·œì¹™ì´ ìœ ìš©í•©ë‹ˆë‹¤.

GitHub Copilotì—ê²Œ "ì´ ì½”ë“œì—ì„œ ë°˜ë³µë˜ëŠ” íŒ¨í„´ì„ ì°¾ì•„ ì¶”ìƒí™”í•´ì¤˜"ë¼ê³  ìš”ì²­í•˜ë©´, ë¦¬íŒ©í† ë§ ì œì•ˆì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**í…ŒìŠ¤íŠ¸ë¡œ ê²€ì¦**

ì¶”ìƒí™”ê°€ ì˜¬ë°”ë¥¸ì§€ ê²€ì¦í•˜ëŠ” ê°€ì¥ ì¢‹ì€ ë°©ë²•ì€ í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤. Mock ê°ì²´ë¥¼ ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆê³ , ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë°ì´í„°ë² ì´ìŠ¤ ì—†ì´ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë‹¤ë©´, ì¶”ìƒí™”ê°€ ì˜ ë˜ì–´ ìˆëŠ” ê²ƒì…ë‹ˆë‹¤.

```
"ì´ Use Caseì˜ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ì¤˜. 
ëª¨ë“  ì™¸ë¶€ ì˜ì¡´ì„±ì„ Mockìœ¼ë¡œ ëŒ€ì²´í•˜ê³ , ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ë§Œ í…ŒìŠ¤íŠ¸í•´ì¤˜."
```

### ë‹¤ìŒ ì£¼ ì˜ˆê³ 

6ì£¼ì°¨ì—ëŠ” **"GitHub Copilotê³¼ì˜ í˜‘ì—… ëª¨ë¸"**ì„ ê¹Šì´ ìˆê²Œ ë‹¤ë£¹ë‹ˆë‹¤. Agent ê¸°ëŠ¥ ì‹¬í™”, ê³ ê¸‰ í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§ ê¸°ë²•, ë°˜ë³µì  ê°œì„  ì „ëµì„ ë°°ìš°ë©°, GitHub Copilotì„ ë‹¨ìˆœí•œ ì½”ë“œ ìƒì„± ë„êµ¬ê°€ ì•„ë‹Œ ì§„ì •í•œ í˜‘ì—… íŒŒíŠ¸ë„ˆë¡œ í™œìš©í•˜ëŠ” ë°©ë²•ì„ ìµí™ë‹ˆë‹¤.

ì—¬ëŸ¬ë¶„ì€ ì´ì œ ë³µì¡í•œ ì‹œìŠ¤í…œì„ ëª…í™•í•œ ì¶”ìƒí™” ê³„ì¸µìœ¼ë¡œ ì„¤ê³„í•˜ê³ , ê° ê³„ì¸µì˜ ì±…ì„ì„ ë¶„ë¦¬í•˜ë©°, ë³€ê²½ì— ê°•í•˜ê³  í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ êµ¬ì¡°ë¥¼ ë§Œë“œëŠ” ì „ë¬¸ê°€ì˜ ëŠ¥ë ¥ì„ ê°–ì¶”ì—ˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ì£¼ì—ëŠ” ì´ëŸ¬í•œ ì„¤ê³„ë¥¼ ë”ìš± íš¨ê³¼ì ìœ¼ë¡œ ì‹¤í˜„í•˜ëŠ” AI í˜‘ì—… ê¸°ë²•ì„ ì™„ì„±í•  ê²ƒì…ë‹ˆë‹¤.
